@keycloakAddress = http://192.168.68.100:8080
@gatewayAddress = http://192.168.68.100:5175
# ⬆️ Gateway portunu Aspire Dashboard'dan öğrenin

### 1. Keycloak'tan Token Al (mobile client ile location.api audience için)
# @name getToken
POST {{keycloakAddress}}/realms/NakliyeTenant/protocol/openid-connect/token
Content-Type: application/x-www-form-urlencoded

grant_type=password
&client_id=mobile
&client_secret=lCA00c0JnC0qiMt9nqk42Ely4DrZ63FM
&username=fatihh
&password=123456

###
@token = eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJGbEJLNi0yT24xeGpaNEJmdGEybEdLRlFUMllXZG1FcjBmVVVjX05TdjQ0In0.eyJleHAiOjE3NjM1MDEwMzAsImlhdCI6MTc2MzUwMDczMCwiYXV0aF90aW1lIjoxNzYzNTAwNzMwLCJqdGkiOiJkMmJmNTNlNS04ZmQwLTQwY2YtYmQzMS1hZmY0YjNlZDAzYWUiLCJpc3MiOiJodHRwOi8vMTkyLjE2OC42OC4xMDA6ODA4MC9yZWFsbXMvTmFrbGl5ZVRlbmFudCIsImF1ZCI6ImxvY2F0aW9uLmFwaSIsInN1YiI6IjA2NmVlMjM4LWQ1YzItNGM1My1iMTRlLWY1MTQ0Njk3NTE1OCIsInR5cCI6IkJlYXJlciIsImF6cCI6Im1vYmlsZS1wdWJsaWMiLCJzaWQiOiI5MzYwM2VjOC1mZGQ4LTRiNTUtOWUwYS05YWRkNTJjZDNjZGQiLCJhY3IiOiIxIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbInVzZXIiXX0sInNjb3BlIjoib3BlbmlkIHByb2ZpbGUgZW1haWwiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6ImZhdGloaCBmYXRpaGgiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJmYXRpaGgiLCJnaXZlbl9uYW1lIjoiZmF0aWhoIiwiZmFtaWx5X25hbWUiOiJmYXRpaGgiLCJlbWFpbCI6ImZhdGloaEBmLmNvbSJ9.kH6F8nXBuqYUAfItJo0OzsW7IYDYsn5-I724VZjHYaomlCk0wxH7vfdUpPHPXx3oRns5nIJCXWHEVtn1HT2DJ1ktAkV8PlNQwVdaDLuDPFz79OTn-mwpv6--vXRN16bNjFhH0PgTHD5XFkhgSwXrw478cV1C7qBKh51pbmAvYHVaWumHh3mMsUcbFwnn7K5sPaPw-EPkfVJxVqqzpuZsZKDFm3u35TaxBb7Hvtn8hAVlu2YpUDeSIeW6X7zoCOsI8A7b_g6dbkeAiMBY3SAmyqKLAMoozV5zLxjRDtQwPXtVry-Ss6cj-gaiAwWuiAN02pjowA84FvU4FTv4PUy3Tw

### 2. Token'ı Decode Et (Kontrol için - jwt.io'ya yapıştırabilirsiniz)

# Token içeriğini görmek için bu değişkeni kullanın: {{token}}

### 3. Gateway Üzerinden Location API'ye İstek At
GET {{gatewayAddress}}/v1/locations/
Accept: application/json
Authorization: Bearer {{token}}


### 2. Insert Current Location (Gateway üzerinden)
POST {{gatewayAddress}}/v1/locations
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "longitude": 29.123456,
  "latitude": 41.234567,
  "userId": "066ee238-d5c2-4c53-b14e-f51446975158"
}